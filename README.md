gpt-artifact-scrub
===================

Это утилита/бот для очистки текста от типографских артефактов и служебных маркеров, которые часто оставляют LLM.

Что делает нормализация
- Заменяет длинные тире на обычный дефис '-'
- Заменяет «ёлочки» и типографские кавычки на стандартные двойные кавычки "
- Нормализует маркеры списков к форме "- "
- Конвертирует неразрывные пробелы (NBSP) в обычные
- Удаляет служебные маркеры LLM:
	- Токены формата turn{n}{type}{m}, где type ∈ search|click|fetch|view|news|image|product|sports|finance|forecast|time|maps|calc|translate|msearch|mclick
	- Последовательности таких токенов, соединённые пробелами
	- Слово cite, если оно стоит перед одним или несколькими такими токенами
	- Целиком группы в (), [] или {}, если внутри содержатся cite и/или такие маркеры (включая случаи с доменами/URL)
- Подчищает пробелы/знаки препинания, оставшиеся после удаления

Гарантии после очистки
- В тексте не остаются подстроки вида: \bturn\d+(<types>)\d+\b
- В тексте не остаётся слово cite
- Нет лишних пробелов, запятых или точек на границах удалённых конструкций

Быстрый запуск smoke-теста
- Запустите локально:

```powershell
python -X utf8 src/smoke_test.py
```

Телеграм-бот
- Для запуска бота задайте TELEGRAM_BOT_TOKEN в .env и выполните:

```powershell
python -X utf8 src/bot.py
```

Лицензия
- См. LICENSE
